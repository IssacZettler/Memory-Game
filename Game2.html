<!DOCTYPE html>
<html>
<head>
  <title>Memory Game</title>
</head>

<body onLoad="setUp()">
<canvas id="myCanvas" width="480" height="320">
  <p>Your browser does not support HTML5!</p>

</canvas>
<script type="text/javascript">
  let cellsize= 20;
  var theCanvas = document.getElementById("myCanvas");
  var context = theCanvas.getContext("2d");
  var width = theCanvas.getAttribute('width');
  var height = theCanvas.getAttribute('height');
  let cells =[
                  ["1","7","9","3"],
                  ["B","1","2","a"],
                  ["2","7","3","y"],
                  ["y","a","B","9"]

  ];



  let cellStatus =
                 [ [-1,1,-1,-1],
                  [-1,-1,1,-1],
                  [-1,1,-1,-1],
                  [-1,-1,-1,-1]];
  let lastClickedValue="";


function getCanvasClick(canvas, event){
  const rect= canvas.getBoundingClientRect();
  const x=event.clientX-rect.left;
  const y=event.clientY-rect.top;
  processUserClick(x,y);
}
myCanvas.addEventListener("mousedown",function(e){
  getCanvasClick(myCanvas,e);
})
  function processUserClick(x,y){
  x=Math.floor(x/cellsize);
    y=Math.floor(y/cellsize);
    console.log(x,y);
    testForTwo(x,y);
    drawCell(x,y);
  }
  function testForTwo(x,y){
  if (lastClickedValue)=""{
    lastClickedValue=cells[x][y];
    }else{
    if(lastClickedValue===cells[x][y]){
      cellStatus[x][y]=1;
    }
    }
  }
  //to do: also make previous clicked at
  // var bgImage = new Image();
  // bgImage.src = "Images/Background.png";
  function setUp(){
  console.log("ye");
  drawGrid();

  }
  function drawGrid(){
  for (let i=0;i<cells.length;i++){
    for (let j=0;j<cells[i].length;j++)
      drawCell(j,i);
    }
  }


function drawCell(column,row){
  console.log("Column: " + (column  + cellsize) + "Row: " + (row + cellsize));
  context.beginPath();
  context.moveTo(column * cellsize, row * cellsize);

  context.lineTo((column +1) *  cellsize,row *cellsize);

  context.lineTo((column+1)*cellsize, (row+1)*cellsize);

  context.lineTo(column*  cellsize,(row+1) *cellsize);

  context.lineTo(column*cellsize, row*cellsize);

  context.stroke();
  context.closePath();

}
//function drawGrid(){}

  var buttonX = [192,110,149,160];
  var buttonY = [100,140,180,220];
  var buttonWidth = [96,260,182,160];
  var buttonHeight = [40,40,40,40];

  bgImage.onload = function(){
    context.drawImage(bgImage, 0, 0);
  };


</script>

<div id="div1"> Play
  <button> Easy Mode</button>
  <button> Hard Mode</button>
</div>
</body>

</html>
